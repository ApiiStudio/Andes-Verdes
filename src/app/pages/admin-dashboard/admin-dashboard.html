<div class="admin-shell">
  <aside class="admin-sidebar" aria-label="Sidebar de administración">
    <a class="brand" routerLink="/inicio" aria-label="Andes Verdes - Inicio">
      <div class="brand__text">
        <h1>Andes Verdes</h1>
        <small>Administración</small>
      </div>
    </a>

    <nav class="nav" role="navigation" aria-label="Menú principal">
      <ul>
        <li><a routerLink="panel-control" routerLinkActive="active"><i class="icon icon-dashboard" aria-hidden="true"></i><span>Panel</span></a></li>
        <li><a routerLink="parques" routerLinkActive="active"><i class="icon icon-park" aria-hidden="true"></i><span>Parques</span></a></li>
        <li><a routerLink="fauna" routerLinkActive="active"><i class="icon icon-fauna" aria-hidden="true"></i><span>Fauna</span></a></li>
        <li><a routerLink="flora" routerLinkActive="active"><i class="icon icon-flora" aria-hidden="true"></i><span>Flora</span></a></li>
        <li><a routerLink="usuarios" routerLinkActive="active"><i class="icon icon-users" aria-hidden="true"></i><span>Usuarios</span></a></li>
      </ul>
    </nav>

    <div class="sidebar-footer" role="contentinfo">
      <small>Logged as <strong>Admin</strong></small>
      <button class="btn small ghost" (click)="logout()">Cerrar sesión</button>
    </div>
  </aside>

  <div class="admin-main">
    <header class="topbar" role="banner">
      <div class="topbar__left">

        <div class="search-wrap">
          <input type="search" placeholder="Buscar parques, especies, usuarios..." aria-label="Buscar" (input)="onSearch($event)" [value]="searchTerm" />
          @if (suggestions.length > 0) {
          <ul class="suggestions">
            @for (s of suggestions; track s.label) {
            <li (click)="selectSuggestion(s)">
              {{ s.label }} - {{ s.category }}
            </li>
            }
          </ul>
          }
        </div>
      </div>

      <div class="topbar__right">
        <button class="add-btn" routerLink="parques" title="Agregar parque">
          <i class="icon icon-add" aria-hidden="true"></i>
          <span>Agregar parque</span>
        </button>
      </div>
    </header>

    <main class="content" role="main">
      <!-- espacio para KPIs / resúmenes -->
      <section class="kpis">
        <div class="kpi">
          <div class="kpi__title">Parques</div>
          <div class="kpi__value">{{ parksCount }}</div>
          <div class="kpi__meta">Registrados</div>
        </div>
        <div class="kpi">
          <div class="kpi__title">Fauna</div>
          <div class="kpi__value">{{ faunaCount }}</div>
          <div class="kpi__meta">Especies</div>
        </div>
        <div class="kpi">
          <div class="kpi__title">Flora</div>
          <div class="kpi__value">{{ floraCount }}</div>
          <div class="kpi__meta">Especies</div>
        </div>
        <div class="kpi">
          <div class="kpi__title">Usuarios</div>
          <div class="kpi__value">{{ usersCount }}</div>
          <div class="kpi__meta">Registrados</div>
        </div>
      </section>

      <!-- aquí van las vistas hijas del admin -->
      <section class="panel-area">
        <router-outlet></router-outlet>
      </section>
    </main>
  </div>
</div>
